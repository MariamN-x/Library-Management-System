
import java.io.Serializable;
import java.util.ArrayList;   
import java.util.Date;
import java.util.List;


public class Borrower extends User implements Serializable {
    private static final long serialVersionUID = 7658793135987417738L;
    private List<Book> borrowedBooksperBorrower;
    
    public List<Book> getBorrowedBooksperBorrower() {
        return borrowedBooksperBorrower;
    }

    public void setBorrowedBooksperBorrower(List<Book> borrowedBooks) {
        this.borrowedBooksperBorrower = borrowedBooks;
    }
    public Borrower(){}
    public Borrower(String username,String pass){
        super.setUserName(username);
        super.setPassword (pass);
        borrowedBooksperBorrower=new ArrayList<>();
    }
 
    @Override
    public String getUserName() {
        return super.getUserName();
    }

    @Override
    public void setUserName(String userName) {
        super.setUserName(userName);
    }

    @Override
    public String getPassword() {
        return super.getPassword();
    }

    @Override
    public void setPassword(String password) {
        super.setPassword(password);
    }

    public List<String> viewBorrowingDetails() {
        List<String>str=new ArrayList<>();
        for (Borrowing borrowing : Borrowing.borrowingsList) {
            Date startDate=borrowing.getStartDate();
            str.add("Start Date: " + startDate);
            str.add("End Date: " + borrowing.getEndDate(startDate));
            str.add("Borrowed Books: "+borrowedBooksperBorrower.toString());
           
        }
        return str;
    }

//    public void rateBook(Book book, double rating) {
//        for (Borrowing borrowing : borrowings) {
//            if (borrowing.getBooks().contains(book)) {
//                borrowing.addRating(book, rating);
//                break;
//            }
//        }
//    }

    public double calculateTotalPayment() {
        double totalPayment = 0.0;
        for (Borrowing borrowing :Borrowing.borrowingsList) {
            totalPayment += borrowing.getPayment();
        }
        return totalPayment;
    }
//
//    public int getLostBookCount() {
//        int lostBookCount = 0;
//        for (Map.Entry<Book, Integer> entry : lostBooks.entrySet()) {
//            lostBookCount += entry.getValue();
//        }
//        return lostBookCount;
//    }
//
//    public int getBorrowedBookCount() {
//        int borrowedBookCount = 0;
//        for (Borrowing borrowing : Borrowing.borrowingsList) {
//             borrowedBookCount += borrowing.getbookList().size();
//        }
//        return borrowedBookCount;
//    }
@Override
      public String toString()
      {
          StringBuilder details=new StringBuilder();
          for(Book book:borrowedBooksperBorrower)
          {
              details.append(book.toString());
          }
          return details.toString();
      }
}

